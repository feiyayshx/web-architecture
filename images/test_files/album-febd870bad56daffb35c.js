_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[111],{"0pOJ":function(t,e,o){"use strict";o.r(e);var n,r=o("o0o1"),a=o.n(r),i=o("HaE+"),c=o("1OyB"),l=o("vuIU"),s=o("JX7q"),u=o("Ji7U"),p=o("md7G"),h=o("foSv"),f=o("rePB"),d=o("Y65e"),m=o("q1tI"),g=o("8Kt/"),b=o.n(g),v=o("YFqc"),y=o.n(v),O=o("nOHt"),w=o.n(O),k=o("2vnA"),j=o("8/vu"),C=o("8wgO"),x=o.n(C),_=o("5M6V"),I=o("gl7K"),R=o("uwq8"),z=o("JT7d"),S=o("iqgf"),N=o("vOnD"),T=N.default.div.withConfig({componentId:"sc-15pkr41-0"})(["position:relative;max-width:2000px;margin-bottom:24px;margin-left:auto;margin-right:auto;> img{display:block;width:1104px;min-height:496px;z-index:2;}.mask{width:100%;height:320px;position:absolute;padding:40px;display:flex;flex-direction:column;justify-content:flex-end;bottom:0;z-index:10;background-image:linear-gradient(-180deg,rgba(255,255,255,0) 0%,rgba(0,0,0,0.25) 99%);color:white;.title,.count,.keywords,.sames{width:1104px;margin-left:auto;margin-right:auto;}.title{font-size:48px;}.count,.sames{font-size:16px;}.keywords{font-size:20px;> a{margin-right:20px;&:hover{opacity:0.7;}}}.count,.keywords,.sames{margin-top:8px;}.sames{display:flex;align-items:center;cursor:pointer;span{display:inline-block;margin-left:14px;padding:3px 9px;font-size:0;border:2px solid ",";transition:opacity 0.3s;&:hover{opacity:0.6;}}}}"],(function(t){return t.theme.palette.white})),D=N.default.h1.withConfig({componentId:"sc-15pkr41-1"})(["margin-top:24px;padding-top:80px;font-size:","px;"],(function(t){return t.theme.font.size.lg})),M=N.default.p.withConfig({componentId:"sc-15pkr41-2"})(["margin:4px 0 24px;font-size:","px;color:",";"],(function(t){return t.theme.font.size.sm}),(function(t){return t.theme.palette.spruce})),P=o("Iks1"),E=m.createElement;function A(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=Object(h.a)(t);if(e){var r=Object(h.a)(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Object(p.a)(this,o)}}var L=(n=function(t){Object(u.a)(o,t);var e=A(o);function o(){var t;Object(c.a)(this,o);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r)),Object(f.a)(Object(s.a)(t),"state",{isLoading:!0}),Object(f.a)(Object(s.a)(t),"handlePageChange",(function(t){w.a.push({pathname:window.location.pathname,query:{page:t}})})),Object(f.a)(Object(s.a)(t),"renderItem",(function(t){var e=t.data,o=t.position;return E(I.a,{id:e.id,analyzeInfo:{source:"inspiration"},contributorId:e.author_id,src:e.preview260_url,height:o.height,alt:e.title,aspect:e.aspect,showToolBar:!0})})),Object(f.a)(Object(s.a)(t),"scrollToAnchor",(function(t){if(t){var e=document.getElementById(t);e&&e.scrollIntoView({behavior:"smooth",block:"start"})}})),t}return Object(l.a)(o,[{key:"componentDidMount",value:function(){var t=Object(i.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.props.albumsStore.getOthersAlbums(Number(this.props.id));case 2:this.setState({isLoading:!1});case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.props.album,o=e.topic_info,n=o.title,r=o.category_name,a=o.cover,i=o.core_keyword,c=e.data,l=e.current_page,s=e.last_page,u=e.total;return E(m.Fragment,null,E(b.a,null,E("title",null,"\u7075\u611f\u56fe\u518c - ",n," - ",r," - ",P.h)),E(T,null,E("img",{src:a,alt:"\u56fe\u518c\u5c01\u9762",onContextMenu:function(t){return t.preventDefault()}}),E("div",{className:"mask"},E("h4",{className:"title"},n),E("div",{className:"count"},"\u5171".concat(u,"\u5f20\u56fe\u7247\u8bbe\u8ba1\u7d20\u6750")),i&&i.length?E("div",{className:"keywords"},"\u63a8\u8350\u5173\u952e\u8bcd\uff1a",i.map((function(t,e){return E(y.a,{key:"album-keywords-".concat(e),href:"/image/search?q=".concat(encodeURIComponent(t))},E("a",null,t))}))):null,E("div",{onClick:function(){return t.scrollToAnchor("anchor")},className:"sames"},"\u540c\u7cfb\u5217\u5176\u4ed6\u56fe\u518c",E("span",null,E(j.Icon,{glyph:"arrow-alt-down",size:14}))))),E(S.k,null,E(x.a,{items:c||[],renderItem:this.renderItem,layout:"horizontal"}),E(R.a,{type:"account",current:l,total:s,onChange:this.handlePageChange}),E(D,{id:"anchor"},"\u540c\u7cfb\u5217\u5176\u4ed6\u56fe\u518c"),E(M,null,"\u8fd9\u91cc\u8fd8\u6709\u5176\u4ed6\u8fd1\u4f3c\u6216\u5ef6\u5c55\u7684\u7cbe\u9009\u5185\u5bb9"),E(j.Spinner,{spinning:this.state.isLoading,minHeight:152,backgroundColor:"#f0f4f5"},E(j.Row,{gutter:24},this.similarAlbums.map((function(t){return E(j.Col,{span:4,key:t.id},E("a",{href:"/image/album/".concat(t.id),target:"_blank"},E(j.Card,{type:"atlas",size:"small",imgSrc:Object(z.b)(t.short_cover,{h:256}),imgHeight:128,title:t.title})))}))),E(S.h,null,E("a",{href:"/image/albums",target:"_blank"},E(j.Button,{icon:"album"},"\u5168\u90e8\u56fe\u518c"))))))}},{key:"similarAlbums",get:function(){return this.props.albumsStore.othersAlbums}}],[{key:"getInitialProps",value:function(){var t=Object(i.a)(a.a.mark((function t(e,o){var n,r,i,c,l,s,u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.query,r=e.req,i=n.id,c=n.page,l=void 0===c?1:c,!i){t.next=10;break}return s=Object(z.j)(r),t.next=6,o.albumsStore.getAlbum(i,l,100,s);case 6:if((u=t.sent).topic_info){t.next=9;break}return t.abrupt("return",{error:"NO_RESULTS"});case 9:return t.abrupt("return",{id:i,album:u});case 10:return t.abrupt("return",{error:"NO_RESULTS"});case 11:case"end":return t.stop()}}),t)})));return function(e,o){return t.apply(this,arguments)}}()}]),o}(m.Component),Object(d.a)(n.prototype,"similarAlbums",[k.e],Object.getOwnPropertyDescriptor(n.prototype,"similarAlbums"),n.prototype),n);e.default=Object(_.a)(L,{search:!0})},HUBH:function(t,e,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/image/album",function(){return o("0pOJ")}])},gl7K:function(t,e,o){"use strict";var n,r,a,i=o("wx14"),c=o("1OyB"),l=o("vuIU"),s=o("JX7q"),u=o("Ji7U"),p=o("md7G"),h=o("foSv"),f=o("rePB"),d=o("q1tI"),m=o("b7gb"),g=o("vOnD"),b=o("8/vu"),v=Object(g.default)(b.Flex).withConfig({componentId:"sc-1pzp068-0"})(["position:relative;overflow:hidden;&:hover > [data-toolbar='true']{opacity:1;}&.wide > figure,&.tall > figure{position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%);}&.top > figure{transform:translateX(-50%) translateY(0);top:0;}& > figure img{user-select:none;width:100%;height:auto;}&.tall > figure img{width:auto;height:100%;}"]),y=g.default.figure.withConfig({componentId:"sc-1pzp068-1"})(["position:relative;background:rgba(255,255,255,0.3);background-image:url('//static.hellorf.com/hellorf/_next/images/placeholder.svg');background-position:center;background-repeat:no-repeat;overflow:hidden;a{display:block;width:100%;height:100%;}img{border:0 !important;}"]),O=g.default.div.withConfig({componentId:"sc-1pzp068-2"})(["position:absolute;right:8px;bottom:8px;font-size:0;text-align:right;opacity:0;transition:opacity 0.3s;> div{margin-top:8px;margin-left:8px;}"]),w=g.default.span.withConfig({componentId:"sc-1pzp068-3"})(["display:block;position:relative;width:32px;height:32px;background:rgba(0,0,0,0.3);border-radius:50%;cursor:pointer;[data-icon='true']{position:absolute;top:50%;left:50%;color:",";transform:translate(-50%,-50%);#account{circle{stroke:",";}path{:first-child{fill:",";}:nth-child(2){stroke:",";}}}#delete path{:first-child{fill:",";}:nth-child(2){stroke:",";}}}"],(function(t){return t.theme.palette.white}),(function(t){return t.theme.palette.white}),(function(t){return t.theme.palette.white}),(function(t){return t.theme.palette.white}),(function(t){return t.theme.palette.white}),(function(t){return t.theme.palette.white})),k=o("okNM"),j=o("XUas"),C=o("L3uj"),x=d.createElement;function _(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=Object(h.a)(t);if(e){var r=Object(h.a)(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Object(p.a)(this,o)}}var I=Object(k.b)("userStore","modalStore")(n=Object(k.c)((a=r=function(t){Object(u.a)(o,t);var e=_(o);function o(){var t;Object(c.a)(this,o);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r)),Object(f.a)(Object(s.a)(t),"handleCollect",Object(j.a)((function(){t.props.modalStore.show("COLLECT_MODAL",{id:t.props.id,platform:t.props.platform}),Object(C.f)("collect",{userid_var:t.props.userStore.currentUser.id,asset_id:t.props.id,asset_type:t.props.platform})}))),Object(f.a)(Object(s.a)(t),"handleMove",(function(){t.props.modalStore.show("COLLECT_MODAL",{type:"move",id:t.props.favoriteId,platform:t.props.platform,onSuccess:t.props.moveCallback})})),Object(f.a)(Object(s.a)(t),"handleDelete",(function(){var e=t.props,o=e.deleteCallback,n=e.platform;t.props.modalStore.show("DELETE_MODAL",{title:"\u786e\u5b9a\u5220\u9664",message:n===m.i.Font?"\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u4e2a\u5b57\u4f53\u5417\uff1f":"\u8be5\u56fe\u7247\u5c06\u4ece\u6536\u85cf\u5939\u79fb\u9664",onConfirm:function(e,r){t.props.userStore.cancelCollection("".concat(t.props.favoriteId),n).then((function(t){t.result?(e(),o&&o()):r()})).catch((function(t){console.error("\u53d6\u6d88\u6536\u85cf\u5931\u8d25",t),r()}))}})})),t}return Object(l.a)(o,[{key:"render",value:function(){var t=this.props,e=t.isCollected,o=t.id,n=t.contributorId,r=t.platform;return x(O,{"data-toolbar":!0},e?x(d.Fragment,null,x(b.Tooltip,{overlayClassName:"tooltip__icon",overlayReset:!0,placement:"top",title:x("span",null,"\u79fb\u52a8")},x(w,{onClick:this.handleMove},x(b.Icon,{glyph:"move-folder",size:16}))),r===m.i.Font?null:x(b.Tooltip,{overlayClassName:"tooltip__icon",overlayReset:!0,placement:"top",title:x("span",null,r===m.i.Video?"\u4e0b\u8f7d\u89c6\u9891\u6837\u7247":"\u4e0b\u8f7d")},x("a",{href:"/".concat(r,"/show/").concat(o),target:"_blank"},x(w,null,x(b.Icon,{glyph:"download",size:16})))),x(b.Tooltip,{overlayClassName:"tooltip__icon",overlayReset:!0,placement:"top",title:x("span",null,"\u5220\u9664")},x(w,{onClick:this.handleDelete},x(b.Icon,{glyph:"delete",size:16})))):x(d.Fragment,null,x(b.Tooltip,{overlayClassName:"tooltip__icon",overlayReset:!0,placement:"top",title:x("span",null,"\u6536\u85cf")},x(w,{onClick:this.handleCollect},x(b.Icon,{glyph:"collect",size:16}))),x(b.Tooltip,{overlayClassName:"tooltip__icon",overlayReset:!0,placement:"top",title:x("span",null,"\u66f4\u591a\u76f8\u4f3c\u56fe\u7247")},x("a",{href:"/image/similar/".concat(o),target:"_blank"},x(w,null,x(b.Icon,{glyph:"similar",size:16})))),n?x(b.Tooltip,{overlayClassName:"tooltip__icon",overlayReset:!0,placement:"top",title:x("span",null,"\u8be5\u4f5c\u8005\u66f4\u591a\u56fe\u7247")},x("a",{href:"/image/contributor/".concat(n),target:"_blank"},x(w,null,x(b.Icon,{glyph:"account",size:16})))):null))}}]),o}(d.Component),Object(f.a)(r,"defaultProps",{platform:m.i.Image}),n=a))||n)||n,R=d.createElement;function z(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=Object(h.a)(t);if(e){var r=Object(h.a)(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Object(p.a)(this,o)}}var S=function(t){Object(u.a)(o,t);var e=z(o);function o(){var t;Object(c.a)(this,o);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r)),Object(f.a)(Object(s.a)(t),"handleClick",(function(){var e=t.props,o=e.onClick,n=e.id;o&&o(n)})),t}return Object(l.a)(o,[{key:"shouldComponentUpdate",value:function(t){return t.toolbar!==this.props.toolbar||(t.src!==this.props.src||t.height!==this.props.height)}},{key:"render",value:function(){var t,e=this.props,o=e.id,n=e.contributorId,r=e.favoriteId,a=e.width,c=e.height,l=e.src,s=e.lazyload,u=void 0===s||s,p=e.showToolBar,h=void 0!==p&&p,g=e.isCollected,b=void 0!==g&&g,w=e.toolbar,k=e.toolbarStyle,j=e.toolbarMoveCallback,C=e.toolbarDeleteCallback,x=e.alt,_=void 0===x?"":x,z=e.isBorder,S=void 0!==z&&z,N=e.fixLayout,T=void 0!==N&&N,D=e.fixLayoutPosition,M=void 0===D?"":D,P=e.fixLayoutSize,E=void 0===P?"contain":P,A=e.platform,L=void 0===A?m.i.Image:A,B=e.forceWide,q=void 0===B||B,U=e.analyzeInfo,J=void 0===U?{}:U,F=this.props.aspect,H=void 0===F?1:F;"string"===typeof H&&(H=parseFloat(H));var X=a?{height:Math.floor(a/H)-1,width:Math.floor(a)}:c?{height:Math.floor(c),width:"100%"}:{},Y={};T&&a&&("cover"===E?H<1?(X.width=Math.floor(a),X.height=Math.floor(a/H)):(X.width=Math.floor(a*H),X.height=Math.floor(a)):H<1&&(X.height=Math.floor(a),X.width=Math.floor(a*H)),Y={style:{width:a,height:a,border:S?"1px solid #ddd":"none"},className:q||H>1?"wide ".concat(M):"tall ".concat(M)});var G=(t={},Object(f.a)(t,u?"data-src":"src",l),Object(f.a)(t,"className",u?"lazyload":""),Object(f.a)(t,"alt",_),t),K="/".concat(L,"/show/").concat(o);if(J&&(J.source||J.term)){var V=Object.keys(J).filter((function(t){return!!J[t]})).map((function(t){return"".concat(t,"=").concat(J[t])})).join("&");K="".concat(K,"?").concat(V)}return R(v,Object(i.a)({valign:"center",halign:"center"},Y,{onClick:this.handleClick}),R(y,{style:X},o?R("a",{href:K,target:"_blank"},R("img",G)):R(d.Fragment,null,R("img",G))),h?w?R(O,{style:k,"data-toolbar":!0},w):R(I,{id:o,isCollected:b,contributorId:n,favoriteId:r,moveCallback:j,deleteCallback:C,platform:L}):null)}}]),o}(d.Component);e.a=S},uwq8:function(t,e,o){"use strict";var n=o("1OyB"),r=o("vuIU"),a=o("JX7q"),i=o("Ji7U"),c=o("md7G"),l=o("foSv"),s=o("rePB"),u=o("q1tI"),p=o("vOnD"),h=o("8/vu"),f=u.createElement;function d(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=Object(l.a)(t);if(e){var r=Object(l.a)(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Object(c.a)(this,o)}}var m=function(t){Object(i.a)(o,t);var e=d(o);function o(){var t;Object(n.a)(this,o);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return t=e.call.apply(e,[this].concat(i)),Object(s.a)(Object(a.a)(t),"handleChange",(function(e){t.props.scrollToTop&&window.scrollTo(0,0),t.props.onChange&&t.props.onChange(e)})),Object(s.a)(Object(a.a)(t),"handleClickPrev",(function(e){var o=t.props,n=o.current,r=o.prev;r&&r(e),t.handleChange(n-1)})),Object(s.a)(Object(a.a)(t),"handleClickNext",(function(e){var o=t.props,n=o.current,r=o.next;r&&r(e),t.handleChange(n+1)})),t}return Object(r.a)(o,[{key:"render",value:function(){var t=this.props,e=t.current,o=t.total,n=t.className;return o<=1?null:f("div",{className:n},e>1&&f(h.Button,{onClick:this.handleClickPrev},"\u4e0a\u4e00\u9875"),o>e&&f(h.Button,{onClick:this.handleClickNext},"\u4e0b\u4e00\u9875"),f(h.Pagination,{current:e,total:o,onChange:this.handleChange}))}}]),o}(u.Component);Object(s.a)(m,"defaultProps",{scrollToTop:!0});var g=Object(p.default)(m).withConfig({componentId:"sc-1v5ivf3-0"})(["position:relative;margin-top:","px;height:40px;text-align:center;> button{padding:8px 36px;& + button{margin-left:40px;}}ul{position:absolute;top:50%;transform:translateY(-50%);right:",";input{background:",";}}"],(function(t){return t.marginTop||40}),(function(t){return"account"===t.type?"24px":"0"}),(function(t){return t.theme.palette.daisy}));e.a=g}},[["HUBH",1,2,5,6,0,3,4,7,8,9,12]]]);